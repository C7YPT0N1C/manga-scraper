#!/usr/bin/env python3
# core/config_helper.py

import os, logging

# ------------------------------------------------------------
# Gallery Title Cleaning
# ------------------------------------------------------------

# Symbols that are filesystem safe and should not be removed or replaced
ALLOWED_SYMBOLS = [ "!", "#", "&", "'", "(", ")", "\"", ",", ".", ":", "?"]

# Fallback blacklist (these always become "_")
BROKEN_SYMBOL_BLACKLIST = [
    "‚Üë", "‚Üì", "‚Üí", "‚Üê",
    "‚ô°", "‚ô•", "‚òÖ", "‚òÜ", "‚ô™", "‚óÜ", "‚óá", "‚Äª", "‚úî", "‚úñ",
    "‚ó¶", "‚àô", "‚Ä¢", "¬∞", "‚óè", "‚Ä£", "¬Æ", "¬©",
    "‚Ä¶", "@", "¬¨", "<", ">", "^", "¬§", "¬¢",
    "‚ôÇ", "‚ôÄ", "‚ö•", "‚ö¢", "‚ö£", "‚ö§", "‚ö¶", "‚öß", "‚ö®", "‚ö©", "‚ôÇ", "‚ôÄ",
    "¬£", "$", "¬•",
    "√∞", "¬ß", "¬∂", "‚Ä†", "‚Ä°", "‚Ä∞", "¬µ", "¬¶", "~"
]

# Define explicit replacements for certain symbols
BROKEN_SYMBOL_REPLACEMENTS = {
    # Miscellaneous
    "ƒÅ": "a", "ƒÄ": "A", "ƒì": "e", "ƒí": "E",
    "ƒ´": "i", "ƒ™": "I", "≈ç": "o", "≈å": "O",
    "≈´": "u", "≈™": "U","≈ï": "r", "≈î": "R",
    "≈õ": "s", "≈ö": "S", "≈∫": "z", "≈π": "Z", "≈º": "z", "≈ª": "Z",
    
    # Accented Latin vowels
    "√†": "a", "√Ä": "A", "√°": "a", "√Å": "A", "√¢": "a", "√Ç": "A",
    "√£": "a", "√É": "A", "√§": "a", "√Ñ": "A", "√•": "a", "√Ö": "A",
    "√®": "e", "√à": "E", "√©": "e", "√â": "E", "√™": "e", "√ä": "E",
    "√´": "e", "√ã": "E",
    "√¨": "i", "√å": "I", "√≠": "i", "√ç": "I", "√Æ": "i", "√é": "I",
    "√Ø": "i", "√è": "I",
    "√≤": "o", "√í": "O", "√≥": "o", "√ì": "O", "√¥": "o", "√î": "O",
    "√µ": "o", "√ï": "O", "√∂": "o", "√ñ": "O", "√∏": "o", "√ò": "O",
    "√π": "u", "√ô": "U", "√∫": "u", "√ö": "U", "√ª": "u", "√õ": "U",
    "√º": "u", "√ú": "U",
    "√Ω": "y", "√ù": "Y", "√ø": "y", "≈∏": "Y",

    # Special Latin ligatures & consonants
    "√¶": "ae", "√Ü": "AE", "≈ì": "oe", "≈í": "OE",
    "√ß": "c", "√á": "C",
    "√±": "n", "√ë": "N",
    "√ü": "ss",
    "√ê": "D",

    # Punctuation & misc symbols
    "‚Äô": "'", "¬ø": "?", "¬°": "!",
    "„Éº": "-", "√ó": "X",

    # Greek letters
    "Œ±": "a", "Œë": "A",
    "Œ≤": "b", "Œí": "B",
    "Œ≥": "g", "Œì": "G",
    "Œ¥": "d", "Œî": "D",
    "Œµ": "e", "Œï": "E",
    "Œ∂": "z", "Œñ": "Z",
    "Œ∑": "e", "Œó": "E",
    "Œ∏": "th", "Œò": "Th",
    "Œπ": "i", "Œô": "I",
    "Œ∫": "k", "Œö": "K",
    "Œª": "l", "Œõ": "L",
    "Œº": "m", "Œú": "M",
    "ŒΩ": "n", "Œù": "N",
    "Œæ": "x", "Œû": "X",
    "Œø": "o", "Œü": "O",
    "œÄ": "p", "Œ†": "P",
    "œÅ": "r", "Œ°": "R",
    "œÉ": "s", "Œ£": "S", "œÇ": "s",
    "œÑ": "t", "Œ§": "T",
    "œÖ": "y", "Œ•": "Y",
    "œÜ": "f", "Œ¶": "F",
    "œá": "ch", "Œß": "Ch",
    "œà": "ps", "Œ®": "Ps",
    "œâ": "o", "Œ©": "O",

    # Cyrillic letters
    "–∞": "a", "–ê": "A",
    "–±": "b", "–ë": "B",
    "–≤": "v", "–í": "V",
    "–≥": "g", "–ì": "G",
    "–¥": "d", "–î": "D",
    "–µ": "e", "–ï": "E",
    "—ë": "e", "–Å": "E",
    "–∂": "zh", "–ñ": "Zh",
    "–∑": "z", "–ó": "Z",
    "–∏": "i", "–ò": "I",
    "–π": "i", "–ô": "I",
    "–∫": "k", "–ö": "K",
    "–ª": "l", "–õ": "L",
    "–º": "m", "–ú": "M",
    "–Ω": "n", "–ù": "N",
    "–æ": "o", "–û": "O",
    "–ø": "p", "–ü": "P",
    "—Ä": "r", "–†": "R",
    "—Å": "s", "–°": "S",
    "—Ç": "t", "–¢": "T",
    "—É": "u", "–£": "U",
    "—Ñ": "f", "–§": "F",
    "—Ö": "h", "–•": "H",
    "—Ü": "ts", "–¶": "Ts",
    "—á": "ch", "–ß": "Ch",
    "—à": "sh", "–®": "Sh",
    "—â": "shch", "–©": "Shch",
    "—ä": "", "–™": "",
    "—ã": "y", "–´": "Y",
    "—å": "", "–¨": "",
    "—ç": "e", "–≠": "E",
    "—é": "yu", "–Æ": "Yu",
    "—è": "ya", "–Ø": "Ya",
    
    # Possible Broken Symbols
    "¬≤": "_",
    "‚Äï": "_",
    "‚Äò": "_",
    "‚Äú": "_",
    "‚Äù": "_",
    "‚Äº": "_",
    "‚Üî": "_",
    "‚ë†": "_",
    "‚ë°": "_",
    "‚ë¢": "_",
    "‚ë£": "_",
    "‚ë§": "_",
    "‚ñà": "_",
    "‚ñ°": "_",
    "‚ñ≥": "_",
    "‚ñ∂": "_",
    "‚ù§": "_",
    "„Äá": "_",
    "„Äå": "_",
    "„Äç": "_",
    "„Äê": "_",
    "„Äë": "_",
    "„Äú": "_",
    "„ÅÜ": "_",
    "„Åä": "_",
    "„Åã": "_",
    "„Åè": "_",
    "„Åó": "_",
    "„Åò": "_",
    "„Åô": "_",
    "„Åü": "_",
    "„Å°": "_",
    "„Å£": "_",
    "„Å¶": "_",
    "„Åß": "_",
    "„Å®": "_",
    "„Å´": "_",
    "„ÅÆ": "_",
    "„Å∞": "_",
    "„Å≥": "_",
    "„Åæ": "_",
    "„ÇÅ": "_",
    "„Çâ": "_",
    "„Çä": "_",
    "„Çã": "_",
    "„Çå": "_",
    "„Çí": "_",
    "„Çì": "_",
    "„Ç¢": "_",
    "„Ç§": "_",
    "„Ç™": "_",
    "„Ç´": "_",
    "„ÇØ": "_",
    "„Ç≥": "_",
    "„Çµ": "_",
    "„Çª": "_",
    "„Éü": "_",
    "„É©": "_",
    "„É™": "_",
    "„É≠": "_",
    "„É≥": "_",
    "„Éª": "_",
    "‰∏â": "_",
    "‰π≥": "_",
    "‰∫§": "_",
    "‰∫∫": "_",
    "‰ºö": "_",
    "ÂÖà": "_",
    "ÂÜ¨": "_",
    "Âãí": "_",
    "ÂçÉ": "_",
    "Âçó": "_",
    "Âèó": "_",
    "Âêà": "_",
    "Âêé": "_",
    "ÂõΩ": "_",
    "Â†ï": "_",
    "Â•≥": "_",
    "Â•¥": "_",
    "Â¶ª": "_",
    "Âß´": "_",
    "ÂÆ∂": "_",
    "Â∞ë": "_",
    "Â∞æ": "_",
    "Â≥∂": "_",
    "Â∑∑": "_",
    "Âºµ": "_",
    "ÊÉÖ": "_",
    "Êâì": "_",
    "Êâï": "_",
    "Êçï": "_",
    "Êïô": "_",
    "Êó•": "_",
    "Êó©": "_",
    "ÊôÇ": "_",
    "Êö¥": "_",
    "Êú´": "_",
    "Êú¨": "_",
    "Êûú": "_",
    "Êßò": "_",
    "Ê≠≥": "_",
    "ÊØé": "_",
    "Ê≥ï": "_",
    "Ê∑´": "_",
    "Êº´": "_",
    "Áàæ": "_",
    "Áîü": "_",
    "Áîª": "_",
    "Áï∞": "_",
    "Áô∫": "_",
    "ÁöÑ": "_",
    "Á•û": "_",
    "Á¨¨": "_",
    "Á¥Ö": "_",
    "ËÜ®": "_",
    "Ëàç": "_",
    "Ëâ≤": "_",
    "ËìÆ": "_",
    "Ë°Ä": "_",
    "Ë°ì": "_",
    "Ë£è": "_",
    "Ë©±": "_",
    "Ëµå": "_",
    "Ë∑µ": "_",
    "Ë∏è": "_",
    "Ëº©": "_",
    "Ëæº": "_",
    "ÈÄ±": "_",
    "ÈÅä": "_",
    "Èáë": "_",
    "Èñâ": "_",
    "Èñë": "_",
    "Èñì": "_",
    "Èö∏": "_",
    "Èõ≤": "_",
    "È†ë": "_",
    "È¨º": "_",
    "È≠î": "_",
    "Ôºì": "_",
    "Ôºü": "_",
    "ÔΩú": "_",
    "ÔΩû": "_",
    "üíÖ": "_"
}